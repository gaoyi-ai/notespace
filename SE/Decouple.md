---
title: Decouple
categories:
- SE
tags:
- decouple
date: 2021/6/26
---



# Decouple

解耦，就是将程序积木化 就像我们玩的积木一样，各个积木可以组合在一起而形成一个形状，又可以拆分，又可以替换，因为基本上 各个积木块都是独立的，只要他们之间的接口（形状）匹配，就可以灵活地组合在一起。

当然，这是理想状态。解耦是在逐渐达到这个理想状态。

解耦通俗地说就是两个东西原来互相影响，现在让他们独立发展；核心思想还是最小职责，每个地方都只做一件事情；只要一个地方负责了多项事情，就存在解耦的可能。在系统每个层次都可以体现解耦的思想，比如在架构层面把存储和业务逻辑解耦，把动态页面和静态页面解耦；在模块层面把业务模块和统计模块解耦；在代码层面把多个功能解耦等等。解耦的思想很好，但是没必要为了解耦而解耦，还是要从业务需求以及系统定位出发，满足一段时间内系统发展的需要即可。

其实在《Thinking in java》里有提到，当你用继承的时候，肯定是需要利用多态的特性。 如果用不到多态的特性，继承的关系是无用的。 比如你要写一个画图系统，画不同的图形，这个时候，你可能考虑到调用相应的函数的时候可以不考虑具体类型，直接画就好了，具体什么图形，交给运行时去判断。这个时候，就要用到多态，就需要有继承关系。一个父类，多个子类。然后用父类的类型去引用具体子类的对象，就可以了。

而用不到多态的时候，你的继承有什么用呢？代码复用？ 一个继承可以让你少写很多代码，但是用错了场合，后期的维护可能是灾难性的。因为继承关系的耦合度很高，一处改会导致处处需要修改。这个时候就需要组合。

组合到底是啥？组合是一种“has-a”的关系。简单的说，就是一个类里面有另一个类的一个引用，就是组合关系了。这个时候可以说“class-A has a class-B”。 组合的耦合度相对小很多，只要类里的接口不变，一版不会出现继承里的一处改处处改的问题。毕竟，你是通过另一个类的引用调用其中的一些方法（函数）而已